// *************************************************************
// FILE:                TOPICS
// AUTHOR:              BEN YACO
// TYPE:               	Application Overrides: Place application CSS in here. Either use a name space by ID or CLASS. Or only load into appilcation layout. Keep light and refector common components into global CSS overtime.

@import "core/helpers"; // Mixins of crossbrowser properties
@import "core/colors";


@import "components/add_to_topic";
@import "topics/mini_header";
@import "topics/page_head";
@import "topic_posts/list";

.topic-contributor-label {
  svg {
    width: 20px;
    height: 18px;
    path {

    fill: $black;
    }
  }
}

#new-topic-post-url-pop {
  h1, h2, h3, h4, h5, h6 {
    color: #FFF;
  }
}


#topic-runner {
  .user-path, img {
    width: 120px;
  }
}

#topic-contributors {
  li {
    width: auto;
    margin-right: 10px;
  }
  .body {
    display: none;
  }
}


$border-color: $grey;
$border-weight: 2px;

@mixin border-bottom($border-weight) {
  border-bottom: $border-weight solid $border-color;
}

// PROPERTY STYLE OVERRIDES
// .source-url, .post-url

.source-url {
  color: $red !important;
}


.topic-posts {
  z-index: 1;
}


#topic-posts-trending, #topic-posts-latest {
  .block-title {
    // float: left;
    width: 198px;
    text-align: right;
  }
  .topic-filters {
    position: absolute;
    left: 250px;
    width: 720px;
    top: 10px;
    a {
      padding-top: 0;
      padding-bottom: 0;
    }

  }
  .container {
    position: relative;
    z-index: 12;
  }
}

#topic-posts-trending, #topic-posts-latest {
  padding-top: 50px;
  li:last-child {
    .post-frame {
      border: none;
    }

  }
  .post-frame {
    float: left;
    width: 100%;
    // border-bottom: 1px solid #CCC;
    border-bottom: 1px solid rgba(#959595, 0.3);
    // position: relative;
    // &:after {
    //   content: "";
    //   display: block;
    //   width: 100%;
    //   border-bottom: 1px solid rgba(#959595, 0.3);
    //   position: absolute;
    //   left: 0;
    //   bottom: 0;


    // }
  }
  .image {
    float: right;
  }

  .block-title {
    margin-bottom: 35px;
  }
}
#topic-posts-trending {
  margin-bottom: 0;
  .post-title {
    margin-bottom: 0;
  }
  .pagination {
    position: relative;
    z-index: 1;
  }
  &:after {
    content: "";
    display: block;
    width: 100%;
    height: 120px;
    position: absolute;
    left: 0;
    bottom: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.10) 0%,rgba(0,0,0,0) 100%);
    z-index: 0;
  }
}

#infscr-loading, #infscr-loading img {
  display: none;
  position: absolute;
  left: -3333px;
  bottom: -500px;
}


.page-head {
  margin-bottom: 20px;
}

.post-title a, .topic-post-message {
  word-wrap: break-word;
}


// /**********************************
// // TOPIC FITLERS STYLES
// // NOTES: keeping local to topics until we want to propograte


#topic-post-filters {
  padding: 0px 0 0 0;
  float: left;
  width: auto;
  border-bottom: none;
  margin-bottom: 0px;
  ul a {
    border-width: 4px;
    padding-left: 20px;
    padding-right: 20px;
    padding-bottom: 11px;
    font-size: 14px;
    padding-top: 22px;
  }
}



#topic-navigation {
  width: 100%;
  background-color: #FFF;
  padding-bottom: 1px;
  .frame {
    float: left;
    width: 100%;
    background-color: #fff;
    border-bottom: 1px solid #eaeaea;
    border-top: 1px solid #eaeaea;

  }
  a {
    font-family: "ff-din-round-web-pro";
    font-size: 14px;
  }
}








#topic-contributors-details {
  float: right;
  padding: 13px 15px 0 0;
  color: #6e707d;
  #topic-contributors-counts {
    padding-top: 10px;
    float: left;
    margin-right: 20px;
  }
  #topic-contributors-count {
    margin-right: 30px;
  }
  #topic-contributors {
    float: right;
    li {
      float: left;
      margin-right: 5px;
    }
  }
  a {
    float: right;
  }
  img {
    width: 37px;
  }
}





.topic-posts {
  .post-details {
    p {
      font-size: 14px;
    }
  }
  .body {
    // @include border-bottom(1px);
  }
  li:last-child .body {
    border: none;
  }
  .body {
    padding-bottom: 15px;
  }
}

.icon-like {
  -webkit-transition: scale 0.25s ease-out;
  -webkit-transition: fill 0.25s ease-out;
  width: 30px;
  fill: #9a9a9b;
}



@-webkit-keyframes pulsate {
  0% {
    -webkit-transform: scale(1.0);
  }

  25% {
    -webkit-transform: scale(1.2);
  }

  100% {
    -webkit-transform: scale(1.0);
  }
}

@-webkit-keyframes shrink {
  0% {
    -webkit-transform: scale(1.0);
  }

  25% {
    -webkit-transform: scale(0.8);
  }

  100% {
    -webkit-transform: scale(0.5);
  }
}


@-webkit-keyframes rotate {
  0% {
    -webkit-transform: rotate(0deg);
  }

  25% {
    -webkit-transform: rotate(180deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
  }
}
.false .icon-like:hover {
  -webkit-animation: pulsate 0.24s linear;
  -webkit-animation-iteration-count: 2;

}




$svg-icon-down: "data:image/svg+xml;utf8,<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='30px' height='30px' viewBox='0 0 30 30' enable-background='new 0 0 30 30' fill='#FFF' xml:space='preserve'><polygon points='1.769,7.58 10.034,15.846 18.3,7.58 15.481,4.762 10.034,10.209 4.587,4.762   '/></svg>";

.loading {
  position: relative;
  &:before {
    content: "loading";
    display: block;
    left: 50%;
    top: 50%;
    @include rotate(0);
    position: absolute;
    margin-left: -15px;
    margin-top: -15px;
    background: transparent url($svg-icon-down) no-repeat 0 0;
    width: 30px;
    height: 30px;
    text-indent: -3333px;
    overflow: hidden;
    -webkit-animation: rotate 0.22s linear;
    -webkit-animation-iteration-count: infinite;
    z-index: 123123;

  }
}

.voted .icon-like:hover {
  // -webkit-animation: shrink 2.8s linear;
  // fill: $black;
  // -webkit-animation-iteration-count: 1;
}

#page-topics .modal-container {
	@include absolute-center(600);
	padding: 0px;
	top: 20px;
}


#source-images-page {
  .modal-container {
    // @include absolute-center(800);
    // margin-left: -400px;
    width: 100%;
    margin-left: 0;
    left: 0;
    top: 0;
    line-height: 300px;
  }
  .modal-container {
    max-width: none;
  }
  .remote-image-width-label {
    line-height: 1em;
  }

  img {
    // width: 200px;
    // display: inline-block;
    display: block;
    height: auto;
    max-width: 300px;
    max-height: 300px;
    width: auto;
  }
}

@media all and (min-width: 645px) {
  @include list("posts", 175);
  #topic-posts-trending {
    background-color: #FFF; 
    padding-top: 50px;
  }

  #topic-posts-trending {
    .post {
      // background-color: #FFF;
    }
  }
  .pagination .next {
    width: 210px;
    a {
      @include rc(200px);
    }
  }
}


.pagination .next {
  float: none;
  text-align: left;
  margin: auto;
  display: block;
  // margin: 0 10px 0 auto;
  
  a {
    display: block;
    background-image: none;
    text-align: center;
    font-weight: bold;
    @include rc(4px);

    color: #FFF;
    font-family: "ff-din-round-web-pro";
    text-transform: uppercase;
    background-color: $black;
    background-color: #d3222a;
    font-size: 15px;
    line-height: 15px;
    padding: 15px 0 10px 0;
    @include bmb;
  }
}

@media all and (max-width: 640px) {
  #topic-contributors-details, .topic-short-description, #topic-cover {
    // TODO YACO this sucks. Need a 1 off template to not render. Display none for now.
    display: none;
  }

  #content-modules {
    padding: 10px;
  }
  .ui-sorts {
    display: none;
  }

  .ui-voting {
    float: right;
  }

  #block-topic-posts-this-week, #block-topic-posts-latest, #block-topic-posts-latest-2 {
    .topic-post-creator, .ui-sorts {
      display: none;
    }
    .post-image {
      width: 110px;
      margin-left: 10px;
      img {
        width: 100%;
      }
    }
    .block-title {
      text-align: center;
    }
  }



  #feed .post {
    height: auto;
    .post-image {
      position: relative;
    }
  }
}
#topic-mini-header {
  display: none;
}

body .page {
  position: relative;
  top: 0;
  left: 0;
  -webkit-transition: left 0.25s ease-out;
}


@media all and (max-width: 640px) {

  #new-post-topic-post .form-body, #new-topic-post-url-pop .form-body {
    width: auto;
  }
  $post-image-width: 50;
  $post-image-height: 50;

  #post_topic_posts_attributes_0_title {
    padding-right: 60px !important;
  }

  #post-image-input.image-added, #new-topic-post-url-pop .drop-image {

    width: $post-image-width + px + !important;
    height: $post-image-width + px + !important;
    line-height: $post-image-width + px + !important;
    float: left;
    position: absolute;
    right: 0;
    top: 0;
  }

  #blob, .drop-image img {
    max-height: $post-image-width + px + !important;
    line-height: $post-image-width + px + !important;
  }




  body.show-modal .page {
    // left: 300px;
    @include bs(-10px -10px 20px, 0.5);
    z-index: 2;
  }

  #header, #topic-head {
    display: none;
  }

  .modal {
    .modal-container, .modal-body, .modal-wrapper {
      height: 100%;
    }
    textarea {
      height: 6em !important;
    }
  }
  .modal .modal-container {
    left: -350px !important;
    top: 0 !important;
    -webkit-transition: left 0.25s ease-out;
  }

  .modal .modal-container.show {
    top: 0 !important;
    left: 0 !important;
    margin-top: 0 !important;
  }

  #topic-mini-header {
    display: block;
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    min-height: 40px;
    color: #FFF;
    
    .topic-actions {
      padding-top: 8px;
    }
    #topic-head {
      display: block;
    }

    .post-actions:before {
      content: "Add:";
      display: block;
      float: left;
      font-weight: bold;
      text-transform: uppercase;
      margin-right: 10px;

    }
    .topic-actions-label {
      display: none;
    }

    svg {
      fill: #FFF;
    }

    #mini-topic-about {
      display: none;
      position: absolute;
      right: 0;
      top: 0;
      background-color: lighten(#313337, 10%);
      height: 100%;
      width: 50px;
      line-height: 40px;

      text-align: center;
      a {
        display: block;
        height: 40px;
        background-color: lighten(#313337, 10%);
        width: 100%;
        float: left;
      }
    }
  }
  .topic-title {
    position: absolute;
    left: 50%;
    top: -15px;
    font-size: 16px;
    text-align: center;
    color: #FFF;
    width: 100%;
    z-index: 12312312;
    width: 200px;
    margin-left: -100px;

  
  }

  .topic-posts .post {
    background-color: #FFF;
    margin-bottom: 10px;
  }

  .topic-posts-trending {
    .post-actions {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid #CCC;
    }
  }

  #topic-navigation {
    .navigation {
      height: 100%;
      position: fixed;
      left: 0;
      top: 30px;
      width: 300px;
    }
  }

  // #header {
  //   #ign-logo {
  //     display: none;
  //   }
  // }

  #ui-back {
    background-color:  #fff;
    display: block;
    width: 30px;
    height: 30px;
    text-indent: -3333px;

  }

  #ad-banner {
    display: none;
  }

  .ui-comments {
    padding: 15px;
  }

  // .column-navigation {
  //   position: fixed !important;
  //   left: 0px !important;
  //   top: 0;
  //   height: 100%;
  //   background-color: $black;
  //   z-index: 0;
  //   width: 220px !important;
  // }

  // .column-main {
  //   position: relative;
  //   z-index: 1;
  //   background-color: #f7f7f7;
  // }


  // body {
  //   margin-left: 220px;
  //   height: 100%;
  //   &:after {
  //     content: "";
  //     display: block;
  //     height: 100%;
  //     position: fixed;
  //     left: 220px;
  //     @include bs(-20px 0px 10px, 0.2);
  //     width: 40px;
  //     top: 0;

  //   }
  // }
}






